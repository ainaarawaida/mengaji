!function(c){"use strict";etTheme.autoinit.variationGallery=etTheme.variationGallery=function(){var i,t,a,e,r,o=c(".variations_form"),n=0<c(o).length,l=o.data("product_id"),s=c(".images-wrapper").hasClass("swiper-vertical-images"),d=c(document).find(".quick-view-popup");d.length&&(o=d.find(".variations_form")),i=o,t=l,n&&wp.ajax.send("et_get_default_variation_gallery",{data:{product_id:t},success:function(e){c(i).data("et_variation_gallery_default",e),etTheme.global_image_lazy(),etTheme.resizeVideo(),setTimeout(function(){c(window).trigger("resize")},500)},error:function(e){c(i).data("et_variation_gallery_default",[]),etTheme.et_notice("variationGalleryNotAvailable","error"," "+t+".")}}),a=o,e=l,n&&wp.ajax.send("et_get_available_variation_images",{data:{product_id:e},success:function(e){c(a).data("et_variation_gallery_variation_images",r),u(r=!r||r.length<1?c(a).data("et_variation_gallery_default"):r)},error:function(e){c(a).data("et_variation_gallery_variation_images",[])}}),o.on("found_variation",function(e,i){u(i.variation_gallery_images),m(),c(document).trigger("variable_product_found_variation")}).on("reset_data",function(){c(this).data("et_variation_gallery_default")&&u(c(this).data("et_variation_gallery_default")),m(),c(document).trigger("variable_product_found_variation")});var m=function(){var e=c(".main-images").data("Swiper"),i=c(".thumbnails-list").data("Swiper");void 0!==e&&etTheme.swipers["swiper-"+index].slideTo(0),s?c(".thumbnails-list").slick("slickGoTo",0):void 0!==i&&etTheme.swipers["swiper-"+index].slideTo(0)};function u(e){var i;n&&(i=e.map(function(e){let i=wp.template("et-variation-gallery-thumbnail-template");return i(e)}).join(""),c(".thumbnails-list").parent().removeClass("dt-hide mob-hide"),c(".swiper-control-top").find(".swiper-custom-left, .swiper-custom-right").removeClass("dt-hide mob-hide"),c(".thumbnails-list.vertical-thumbnails").find(".slick-arrow").remove(),c(".swiper-wrapper.thumbnails-list, .thumbnails-list.vertical-thumbnails .slick-track").html(i),e.length<=1&&(c(".swiper-wrapper.thumbnails-list").parent().addClass("dt-hide mob-hide"),c(".swiper-control-top").find(".swiper-custom-left, .swiper-custom-right").addClass("dt-hide mob-hide")),e=e.map(function(e){let i=wp.template("et-variation-gallery-slider-template");return i(e)}).join(""),c(".swiper-control-top .main-images").html(e),etTheme.global_image_lazy(),etTheme.resizeVideo(),setTimeout(function(){s&&(c(".thumbnails-list.vertical-thumbnails .slick-arrow").remove(),c(".thumbnails-list.vertical-thumbnails").slick("reinit")),c(window).trigger("resize")},500),c.fn.zoom&&!d.length&&wc_single_product_params.zoom_enabled&&c(".woocommerce-main-image").each(function(e,i){let t=c(i).width(),a=c(i).find("img");if(a.data("large_image_width")>t){let e=c.extend({touch:!1},wc_single_product_params.zoom_options);"ontouchstart"in document.documentElement?e.on="click":c(i).zoom(e)}}))}}}(jQuery);